{% extends "base.html" %}

{% block header %}
    <!-- Page Header -->
    <section class="pageHeader section mainSection scrollAnchor darkSection" id="pageHeader">
        {% include "shared/header.html" %}
    </section><!-- end of Page Header -->
{% endblock %}

{% block content %}
    <!-- Page Info -->
    <div class="pageInfo">
        <div class="cover"></div>
        <div class="container">
            <div class="row">

                <div class="col-md-4">
                    <h2 class="pageTitle">Contact Us</h2>
                </div><!-- end of col-md-4 -->

                <div class="col-md-8">
                    <ol class="breadcrumb">
                        <li><a href="#">Home</a></li>
                        <li class="active">Contact</li>
                    </ol><!-- end of breadcrumb -->
                </div><!-- end of col-md-8 -->

            </div><!-- end of row -->
        </div><!-- end of container -->
    </div><!-- end of page info -->

    <!-- contact -->
    <section class="contact section mainSection scrollAnchor lightSection" id="contact">
        <div class="sectionWrapper">
            <div class="container">

                <div class="row">

                    <div class="col-md-12 sectionTitle">
                        <h2 class="sectionHeader">
                            Contact Us
                            <span class="generalBorder"></span>
                        </h2><!-- end of sectionHeader -->
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer lorem quam, adipiscing condimentum tristique vel, eleifend sed turpis. Pellentesque cursus arcu id magna euismod in elementum purus molestie.</p>
                    </div><!-- end of section title -->

                </div><!-- end of row -->

                <div class="row">
                    <div class="col-md-12">
                        <div class="googleMap" data-center-lat="30.8836" data-center-lng="31.4583" data-enable-animation="5" data-enable-zoom="1" data-marker-img="images/map-pin.png" data-zoom-level="12" id="GoogleMap"></div><!-- end of google map -->
                    </div><!-- end  of col-md-12 -->
                </div><!-- end of row -->

                <div class="row">

                    <div class="col-md-8">

                        <div class="department">
                            <h5 class="departHeader">Get In Touch</h5><!-- end of depart header -->

                            <div class="departBody clearfix">

                                <p>Duis dapibus aliquam mi, eget euismod sem scelerisque ut. Vivamus at elit quis urna adipiscing iaculis. Curabitur vitae velit in neque dictum blandit. Proin in iaculis neque. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Curabitur vitae velit in neque dictum blandit. Proin in iaculis neque. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. </p>

                                <!-- start success message  -->

                                <div class="col-md-12 alertWrapper suucessmsg">

                                    <div class="alert alert-success" role="alert">
                                        <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>

                                        <div class="alertContents clearfix">
                                            <i class="animated alertIcon fa fa-check"></i>
                                            <span class="alertDetails">Your message has been sent successfully</span>
                                        </div><!-- end of alert contents -->

                                    </div><!-- end of alert -->

                                </div><!-- end of alertWrapper -->

                                <!-- end success message -->


                                <!-- start error message  -->
                                <div class="col-md-12 alertWrapper errorsmsg">

                                    <div class="alert alert-error" role="alert">
                                        <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>

                                        <div class="alertContents clearfix">
                                            <i class="animated alertIcon fa fa-close"></i>
                                            <span class="alertDetails">An error occurred please try again later</span>
                                        </div><!-- end of alert contents -->

                                    </div><!-- end of alert -->

                                </div><!-- end of alertWrapper -->

                                <!-- end error message -->

                                <div class="sendMessage add-send clearfix">

                                    <form method="POST" action="sendmail.php" class="sendMessageForm clearfix">
                                        <ul class="row clearfix">
                                            <li class="col-md-6"><input type="text" value="Your Name" onblur="if(this.value=='')this.value='Your Name'" onfocus="if(this.value=='Your Name')this.value=''" name="name" id="name" class="name"></li>
                                            <li class="col-md-6"><input type="email" value="Email" onblur="if(this.value=='')this.value='Email'" onfocus="if(this.value=='Email')this.value=''" name="email" id="email" class="email"></li>
                                            <li class="col-md-6"><input type="text" value="Phone" onblur="if(this.value=='')this.value='Phone'" onfocus="if(this.value=='Phone')this.value=''" name="phone" id="phone" class="phone"></li>
                                            <li class="col-md-6"><input type="text" value="Subject" onblur="if(this.value=='')this.value='Subject'" onfocus="if(this.value=='Subject')this.value=''" name="subject" id="subject" class="subject"></li>
                                            <li class="col-md-12"><textarea name="message" id="messageArea"></textarea></li>
                                        </ul>
                                        <button type="submit" class="loadingbtn"  data-loading-text="Sending Your Message .... ">&nbsp;&nbsp;&nbsp;&nbsp; Send &nbsp;&nbsp;&nbsp;&nbsp; </button>
                                    </form><!-- end of send Message form -->
                                </div><!-- end of send Message -->

                            </div><!-- end of widget body -->

                        </div><!-- end of widget -->

                    </div><!-- end of col-md-8 -->

                    <aside class="col-md-4 sidebar">



                        <div class="department following">
                            <h5 class="departHeader followingHeader">Follow Us On Social Media</h5><!-- end of depart header -->
                            <div class="departBody followingbody">
                                <ul class="rrssb-buttons colorful left clearfix">
                                    <li class="facebook">
                                        <a href="#" class="popup"><i class="fa fa-facebook"></i></a>
                                    </li>
                                    <li class="twitter">
                                        <a href="#" class="popup"><i class="fa fa-twitter"></i></a>
                                    </li>
                                    <li class="googleplus">
                                        <a href="#" class="popup"><i class="fa fa-google-plus"></i></a>
                                    </li>
                                    <li class="youtube">
                                        <!-- Replace subject with your message using URL Endocding: http://meyerweb.com/eric/tools/dencoder/ -->
                                        <a href="#"><i class="fa fa-youtube"></i></a>
                                    </li>
                                    <li class="linkedIn">
                                        <a href="#"><i class="fa fa-linkedin"></i></a>
                                    </li>
                                    <li class="pinterest">
                                        <a href="#"><i class="fa fa-pinterest"></i></a>
                                    </li>
                                </ul>
                            </div><!-- end of following body -->

                        </div><!-- end of following -->

                        <div class="widget tweets">
                            <h5 class="widgetHeader">Latest from Twitter</h5><!-- end of widget header -->
                            <div class="widgetBody carousel3">

                                <div class="tweet">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation quat.</p>

                                    <span class="tweetTime">Afew minutes ago</span>

                                </div><!-- end of tweet -->


                                <div class="tweet">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation quat.</p>

                                    <span class="tweetTime">Afew minutes ago</span>

                                </div><!-- end of tweet -->


                                <div class="tweet">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation quat.</p>

                                    <span class="tweetTime">Afew minutes ago</span>

                                </div><!-- end of tweet -->


                            </div><!-- end of widget body -->
                            <img src="{{ STATIC_PREFIX }}images/tweet.png" alt="tweet">

                            <div class="clearfix"></div>
                        </div><!-- end of widget -->

                    </aside><!-- end of sidebar -->

                </div>

            </div><!-- end of container -->
        </div><!-- end of section wrapper -->
    </section><!-- end contact section -->

{% endblock %}

{% block extra_js %}
    <!-- google maps -->
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <script type="text/javascript">
        link="contact";
        //--google maps--
        Object.keys = Object.keys || function(o) {
            var result = [];
            for(var name in o) {
                if (o.hasOwnProperty(name))
                    result.push(name);
            }
            return result;
        };

        jQuery(document).ready(function($){

            // send message
            var form = $(".sendMessageForm");
            $('.errorsmsg').hide();
            $('.suucessmsg').hide();

            form.on( "submit", function( event ) {
                $(".loadingbtn").button('loading');

                event.preventDefault();

                $.ajax( {
                    type: "POST",
                    url: form.attr( 'action' ),
                    data: form.serialize(),
                    success: function( response ) {
                        if(response == "success"){

                            $('.errorsmsg').slideUp();

                            $('.suucessmsg').slideDown();


                        }
                        else{
                            $('.suucessmsg').slideUp();

                            $('.errorsmsg').slideDown();

                        }
                        console.log( response );
                        $(".loadingbtn").button('reset');
                    }
                } );



            } );



            var zoomLevel = parseFloat($('#GoogleMap').attr('data-zoom-level'));
            var centerlat = parseFloat($('#GoogleMap').attr('data-center-lat'));
            var centerlng = parseFloat($('#GoogleMap').attr('data-center-lng'));
            var markerImg = $('#GoogleMap').attr('data-marker-img');
            var enableZoom = $('#GoogleMap').attr('data-enable-zoom');
            var enableAnimation = $('#GoogleMap').attr('data-enable-animation');
            var animationDelay = 0;

            if( isNaN(zoomLevel) ) { zoomLevel = 12;}
            if( isNaN(centerlat) ) { centerlat = 51.47;}
            if( isNaN(centerlng) ) { centerlng = -0.268199;}
            if( typeof enableAnimation != 'undefined' && enableAnimation == 1 && $(window).width() > 690) { animationDelay = 180; enableAnimation = google.maps.Animation.BOUNCE } else { enableAnimation = null; }

            var latLng = new google.maps.LatLng(centerlat,centerlng);


            var mapOptions = {
                center: latLng,
                zoom: zoomLevel,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                scrollwheel: false,
                panControl: false,
                zoomControl: enableZoom,
                zoomControlOptions: {
                    style: google.maps.ZoomControlStyle.LARGE,
                    position: google.maps.ControlPosition.LEFT_CENTER
                },
                mapTypeControl: false,
                scaleControl: false,
                streetViewControl: false

            };

            var map = new google.maps.Map(document.getElementById("GoogleMap"), mapOptions);

            var infoWindows = [];

            google.maps.event.addListenerOnce(map, 'tilesloaded', function() {

                //don't start the animation until the marker image is loaded if there is one
                if(markerImg.length > 0) {
                    var markerImgLoad = new Image();
                    markerImgLoad.src = markerImg;

                    $(markerImgLoad).load(function(){
                        setMarkers(map);
                    });
                }
                else {
                    setMarkers(map);
                }

            });


            function setMarkers(map) {
                for (var i = 1; i <= Object.keys(map_data).length; i++) {

                    (function(i) {
                        setTimeout(function() {

                            var marker = new google.maps.Marker({
                                position: new google.maps.LatLng(map_data[i].lat, map_data[i].lng),
                                map: map,
                                infoWindowIndex : i - 1,
                                animation: enableAnimation,
                                icon: markerImg,
                                optimized: false
                            });

                            setTimeout(function(){marker.setAnimation(null);},1000);

                            //infowindows
                            var infowindow = new google.maps.InfoWindow({
                                content: map_data[i].mapinfo,
                                maxWidth: 1000
                            });

                            infoWindows.push(infowindow);

                            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                                return function() {
                                    infoWindows[this.infoWindowIndex].open(map, this);
                                }

                            })(marker, i));

                        }, i * animationDelay);


                    }(i));


                }//end for loop
            }//setMarker

        });

        /* <![CDATA[ */
        var map_data = {
            "1":{"lat":"30.8836",
                "lng":"31.4583",
                "mapinfo":"Here is our location"},
        };
        /* ]]> */

    </script>
{% endblock %}